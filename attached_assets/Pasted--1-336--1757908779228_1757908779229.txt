# ë¡œê·¸ ë¶„ì„ ë° ë¬¸ì œ í•´ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸

## ğŸ” **1ë‹¨ê³„: ì›Œí¬í”Œë¡œìš° ë¡œê·¸ ë¶„ì„ (336ê°œ)**

### ì°¾ì•„ì•¼ í•  í•µì‹¬ íŒ¨í„´ë“¤

**ì—ëŸ¬ ë©”ì‹œì§€ íŒ¨í„´**:
```bash
# ì´ëŸ° ë©”ì‹œì§€ë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”
ERROR: 
FAILED:
timeout:
404:
500:
Connection refused
Database error
Parse error
XML parsing failed
SEC request blocked
```

**ì„±ê³µì ì¸ ë°ì´í„° ì²˜ë¦¬ íŒ¨í„´**:
```bash
# ì •ìƒ ì‘ë™ í™•ì¸ìš©
"Successfully processed"
"Inserted new trade"
"Broadcasting to clients"
"XML parsed successfully"
```

### íŠ¹íˆ ì£¼ì˜ê¹Šê²Œ ë³¼ ë¶€ë¶„

1. **SEC ë°ì´í„° ìˆ˜ì§‘ ê´€ë ¨**:
   - SEC API í˜¸ì¶œ ì„±ê³µ/ì‹¤íŒ¨
   - XML íŒŒì‹± ì˜¤ë¥˜
   - 403/404/429 HTTP ìƒíƒœ ì½”ë“œ

2. **ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨**:
   - PostgreSQL ì—°ê²° ì˜¤ë¥˜
   - INSERT/SELECT ì¿¼ë¦¬ ì‹¤íŒ¨
   - ì¤‘ë³µ ë°ì´í„° ì²˜ë¦¬

3. **WebSocket ê´€ë ¨**:
   - í´ë¼ì´ì–¸íŠ¸ ì—°ê²°/í•´ì œ
   - ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì‹¤íŒ¨

## ğŸ–¥ï¸ **2ë‹¨ê³„: ë¸Œë¼ìš°ì € ì½˜ì†” ë¡œê·¸ ë¶„ì„ (55ê°œ)**

### JavaScript ì˜¤ë¥˜ íŒ¨í„´

**React ê´€ë ¨ ì˜¤ë¥˜**:
```javascript
// ì´ëŸ° ì—ëŸ¬ë“¤ì„ í™•ì¸í•˜ì„¸ìš”
"Cannot read property of undefined"
"Map is not a function" 
"Failed to fetch"
"WebSocket connection failed"
"Hydration error"
"Component did not update"
```

**ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜**:
```javascript
// API í˜¸ì¶œ ê´€ë ¨
"Failed to load resource"
"CORS error"
"429 Too Many Requests"
"500 Internal Server Error"
```

**ìƒíƒœ ê´€ë¦¬ ì˜¤ë¥˜**:
```javascript
// ë°ì´í„° í”Œë¡œìš° ê´€ë ¨
"State update on unmounted component"
"Invalid hook call"
"Maximum update depth exceeded"
```

## ğŸ“Š **3ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì§„ë‹¨ ìŠ¤í¬ë¦½íŠ¸**

### ì¦‰ì‹œ ì‹¤í–‰í•  SQL ì¿¼ë¦¬ë“¤

```sql
-- 1. ê¸°ë³¸ ë°ì´í„° í™•ì¸
SELECT COUNT(*) as total_trades FROM insider_trades;

-- 2. ìµœê·¼ ë°ì´í„° í™•ì¸ (24ì‹œê°„)
SELECT COUNT(*) as recent_trades 
FROM insider_trades 
WHERE filing_date >= NOW() - INTERVAL '24 hours';

-- 3. ë°ì´í„° ë¶„í¬ í™•ì¸
SELECT 
  DATE(filing_date) as date,
  COUNT(*) as count
FROM insider_trades 
GROUP BY DATE(filing_date)
ORDER BY date DESC
LIMIT 7;

-- 4. ì¤‘ë³µ ë°ì´í„° í™•ì¸
SELECT 
  company_name, ticker, trader_name, filing_date,
  COUNT(*) as duplicates
FROM insider_trades
GROUP BY company_name, ticker, trader_name, filing_date
HAVING COUNT(*) > 1
LIMIT 10;

-- 5. NULL ê°’ í™•ì¸
SELECT 
  COUNT(*) as total,
  COUNT(company_name) as has_company,
  COUNT(ticker) as has_ticker,
  COUNT(total_value) as has_value
FROM insider_trades;
```

## ğŸš€ **4ë‹¨ê³„: API ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ í…ŒìŠ¤íŠ¸**

### ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸

```javascript
// Consoleì—ì„œ ì‹¤í–‰í•  í…ŒìŠ¤íŠ¸ ì½”ë“œ

// 1. ê¸°ë³¸ API í˜¸ì¶œ
fetch('/api/trades')
  .then(res => {
    console.log('Status:', res.status);
    console.log('Headers:', res.headers);
    return res.json();
  })
  .then(data => {
    console.log('Data count:', data.length);
    console.log('First trade:', data[0]);
    console.log('All data:', data);
  })
  .catch(err => console.error('API Error:', err));

// 2. WebSocket ì—°ê²° í…ŒìŠ¤íŠ¸
const testWS = () => {
  const ws = new WebSocket('ws://localhost:3000'); // í¬íŠ¸ í™•ì¸ í•„ìš”
  
  ws.onopen = () => console.log('WebSocket connected');
  ws.onmessage = (event) => console.log('WS message:', event.data);
  ws.onerror = (error) => console.error('WS error:', error);
  ws.onclose = () => console.log('WebSocket closed');
  
  return ws;
};

const ws = testWS();

// 3. ë„¤íŠ¸ì›Œí¬ íƒ­ í™•ì¸ìš©
console.log('í˜„ì¬ í˜ì´ì§€ URL:', window.location.href);
console.log('User Agent:', navigator.userAgent);
```

## ğŸ”§ **5ë‹¨ê³„: ì„ì‹œ ë””ë²„ê¹… ì½”ë“œ ì¶”ê°€**

### ë°±ì—”ë“œì— ì¶”ê°€í•  ë¡œê¹…

```javascript
// API ì—”ë“œí¬ì¸íŠ¸ì— ìƒì„¸ ë¡œê¹… ì¶”ê°€
app.get('/api/trades', async (req, res) => {
  const startTime = Date.now();
  console.log(`[${new Date().toISOString()}] API í˜¸ì¶œ: /api/trades`);
  
  try {
    // DB ì—°ê²° í…ŒìŠ¤íŠ¸
    console.log('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...');
    const connectionTest = await pool.query('SELECT NOW()');
    console.log('DB ì—°ê²° ì„±ê³µ:', connectionTest.rows[0]);
    
    // ì‹¤ì œ ì¿¼ë¦¬
    console.log('ê±°ë˜ ë°ì´í„° ì¡°íšŒ ì¤‘...');
    const result = await pool.query(`
      SELECT * FROM insider_trades 
      ORDER BY filing_date DESC 
      LIMIT 50
    `);
    
    console.log(`ì¡°íšŒ ì™„ë£Œ: ${result.rows.length}ê°œ ê±°ë˜`);
    
    // ì‘ë‹µ ì „ì†¡
    const responseTime = Date.now() - startTime;
    console.log(`API ì‘ë‹µ ì‹œê°„: ${responseTime}ms`);
    
    res.json(result.rows);
  } catch (error) {
    console.error('API ì˜¤ë¥˜ ìƒì„¸:', {
      message: error.message,
      stack: error.stack,
      code: error.code
    });
    
    res.status(500).json({
      error: 'Database error',
      message: error.message,
      timestamp: new Date().toISOString()
    });
  }
});
```

### í”„ë¡ íŠ¸ì—”ë“œì— ì¶”ê°€í•  ë””ë²„ê¹…

```javascript
// React ì»´í¬ë„ŒíŠ¸ì— ìƒì„¸ ë¡œê¹…
const TradeDashboard = () => {
  const [trades, setTrades] = useState([]);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    console.log('ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ë¨, ë°ì´í„° ë¡œë”© ì‹œì‘');
    fetchTrades();
  }, []);
  
  const fetchTrades = async () => {
    console.log('fetchTrades ì‹œì‘');
    setLoading(true);
    
    try {
      console.log('API í˜¸ì¶œ ì¤‘...');
      const response = await fetch('/api/trades');
      
      console.log('ì‘ë‹µ ìˆ˜ì‹ :', {
        status: response.status,
        statusText: response.statusText,
        headers: response.headers
      });
      
      const data = await response.json();
      
      console.log('ë°ì´í„° íŒŒì‹± ì™„ë£Œ:', {
        isArray: Array.isArray(data),
        length: data.length,
        firstItem: data[0]
      });
      
      setTrades(data);
      console.log('ìƒíƒœ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
      
    } catch (error) {
      console.error('fetchTrades ì˜¤ë¥˜:', error);
    } finally {
      setLoading(false);
      console.log('ë¡œë”© ìƒíƒœ ì™„ë£Œ');
    }
  };
  
  console.log('ë Œë”ë§:', { tradesCount: trades.length, loading });
  
  return (
    <div>
      {/* ë Œë”ë§ ì½”ë“œ */}
    </div>
  );
};
```

## âš¡ **ì¦‰ì‹œ ì‹¤í–‰ ìš°ì„ ìˆœìœ„**

### ğŸ”¥ **ìµœìš°ì„  (ì§€ê¸ˆ ë‹¹ì¥)**
1. **ì›Œí¬í”Œë¡œìš° ë¡œê·¸**ì—ì„œ "ERROR", "FAILED", "404", "500" ê²€ìƒ‰
2. **ë¸Œë¼ìš°ì € ì½˜ì†” ë¡œê·¸**ì—ì„œ ë¹¨ê°„ìƒ‰ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
3. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ `SELECT COUNT(*) FROM insider_trades` ì‹¤í–‰

### ğŸš¨ **2ìˆœìœ„ (10ë¶„ ë‚´)**
1. `/api/trades` URL ì§ì ‘ ì ‘ì†í•´ì„œ ì‘ë‹µ í™•ì¸
2. ë¸Œë¼ìš°ì € Consoleì—ì„œ `fetch('/api/trades')` ì‹¤í–‰
3. Network íƒ­ì—ì„œ ì‹¤ì œ HTTP ìš”ì²­/ì‘ë‹µ í™•ì¸

### ğŸ“‹ **3ìˆœìœ„ (30ë¶„ ë‚´)**
1. ìœ„ì˜ ë””ë²„ê¹… ì½”ë“œ ì¶”ê°€
2. ì„œë²„ ì¬ì‹œì‘ í›„ ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
3. ê° ë‹¨ê³„ë³„ ì„±ê³µ/ì‹¤íŒ¨ ì§€ì  ì •í™•íˆ íŒŒì•…

---

**ë¡œê·¸ ë¶„ì„ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì‹œë©´ ì •í™•í•œ í•´ê²°ì±…ì„ ì¦‰ì‹œ ì œì‹œí•˜ê² ìŠµë‹ˆë‹¤!** 

íŠ¹íˆ **ì—ëŸ¬ ë©”ì‹œì§€**ë‚˜ **ë°˜ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” íŒ¨í„´**ì´ ìˆë‹¤ë©´ ë°”ë¡œ ì•Œë ¤ì£¼ì„¸ìš”.